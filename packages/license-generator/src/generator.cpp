#include <iostream>
#include <cstdlib>
#include <string>

using namespace std;

const uint64_t tab[8][26] = {
    {
      7024472956711288880ull, 5458207901768608863ull, 12684341626549432793ull, 18217164246544184968ull, 184746065879828513ull,
      11509562944558616038ull, 9348378043848878893ull, 8552698590318682040ull, 544852827732058855ull, 12388048865558541909ull,
      13706347285358164122ull, 11335951502058908294ull, 17950784796483169054ull, 15419583767980839766ull, 13916389429356487652ull,
      18406584645924398748ull, 7086865636582129574ull, 10354183454599768598ull, 9318440217416692166ull, 12002495978832263339ull,
      12690056216656377560ull, 15866878221194259267ull, 2353350414124329387ull, 16788647938393009124ull, 17581466483099396604ull,
      3049690176428109849ull
    },
    {
      12348525927183590866ull,
      16816049088300082028ull,
      2215007273290469571ull,
      9901013968906594995ull,
      13703672895450359659ull,
      17122324578627440621ull,
      7643811386677791595ull,
      9526702217427700989ull,
      5234889474347319327ull,
      811822402467197340ull,
      8764121254181259039ull,
      8071127410199779071ull,
      9070769333930611659ull,
      8875847303198591867ull,
      8032268969456758178ull,
      5177058371153739931ull,
      2535235219287470767ull,
      15874808011512899462ull,
      3649947318565095197ull,
      17303605394602415083ull,
      12995850433602644995ull,
      17262351201830099141ull,
      13489190296058567830ull,
      8799163057707352988ull,
      2680521413373572917ull,
      15491755457360693449ull
    },
    {
      10109725869341922049ull,
      17732942146575114863ull,
      12108714344630189579ull,
      14026395372720927524ull,
      1891700732131325626ull,
      11510399841507976867ull,
      14102165851287924188ull,
      14126237308050495401ull,
      10783923548242166621ull,
      13015540900207535993ull,
      8812430087717795550ull,
      11972516178458338810ull,
      13140861428427897963ull,
      13368285499523117567ull,
      5668732367358966257ull,
      9198757415575201475ull,
      11137371392315044342ull,
      15123142782841436078ull,
      13772585467612133010ull,
      2835829586507399897ull,
      18118574637530824347ull,
      1240707673827242026ull,
      6664394909011645071ull,
      14120538584004159763ull,
      2504509382506994068ull,
      9536211895137642249ull
    },
    {
      1826221606509714389ull,
      598870670969009437ull,
      5800220756184242583ull,
      14255210897502934477ull,
      3482592331993504804ull,
      16970134278298775933ull,
      5670380597880333185ull,
      7718159431167615092ull,
      3173760318772775568ull,
      1103781315412554528ull,
      41126541007256247ull,
      4734542043122296676ull,
      366651859672868472ull,
      15439080582192674527ull,
      12223027467182292333ull,
      12575559544687185050ull,
      7091906317834516922ull,
      2848744471336672749ull,
      4068977361156238076ull,
      8749254387210623608ull,
      4377909247567316037ull,
      14212379459739549540ull,
      692346731463565239ull,
      5964106907419504424ull,
      1439826476981420825ull,
      17909186461792533394ull
    },
    {
      243705123476849559ull,
      8941444919779656797ull,
      96976961502905629ull,
      14884292768109389855ull,
      14028380006692125936ull,
      17780997244955861595ull,
      17721144993250639383ull,
      7140371758726381705ull,
      9057905584603614352ull,
      2572127316643382662ull,
      4779555742574386665ull,
      12318770886181349584ull,
      15627201319949666034ull,
      12723843153734019691ull,
      28652317682456212ull,
      4085406060104010131ull,
      9940388780294865481ull,
      15396713730277393204ull,
      12188017480963729098ull,
      5846526835682714727ull,
      17692852689849720695ull,
      7822791952520653764ull,
      5555584261665920942ull,
      10295929977696942152ull,
      3481239549570111867ull,
      81383451866398594ull
    },
    {
      886139634345158831ull,
      13115542968357555777ull,
      10274586466525262108ull,
      2801194909256176686ull,
      14330376466185735515ull,
      6935655131354933286ull,
      12337468444636979034ull,
      17080467152935830535ull,
      1256586108817505731ull,
      6046869981421791469ull,
      4189744305023760493ull,
      14729933093852748399ull,
      10125623096935341180ull,
      15353930752561199873ull,
      2384323390720244631ull,
      15677906068075735158ull,
      16167125496880343483ull,
      7850650718629216955ull,
      18292665690259605207ull,
      4009501108305570173ull,
      7487305586241933127ull,
      4838034164487911118ull,
      10111158769653473118ull,
      1312601607448233830ull,
      4897813348716342681ull,
      13339084063551080401ull
    },
    {
      18159313051749329050ull,
      3188853319979484033ull,
      8014253702859395617ull,
      2708807681642251791ull,
      14985110924310326067ull,
      7261049240302836397ull,
      16607463656190702165ull,
      10594936329536713117ull,
      7709225673538746479ull,
      7607088774812836753ull,
      11464254216218696922ull,
      3866213437105194954ull,
      9832096438340660700ull,
      12247511926292848493ull,
      17080607408912836527ull,
      14160243719801916971ull,
      6825521021881642719ull,
      8765770991819497115ull,
      8867474366778745006ull,
      14812365967264892519ull,
      8756206514513731723ull,
      9519975745719674762ull,
      4015411270394843660ull,
      12578685484429262406ull,
      8469642326261972696ull,
      8826258766143856392ull
    },
    {
      6598021254728206518ull,
      1496894497992680375ull,
      2084082391172341243ull,
      11729626718998573151ull,
      14293717299305360094ull,
      16212514239411421105ull,
      6429885631572424967ull,
      3451523918224453279ull,
      13854692987490184313ull,
      5559792169691450128ull,
      16132823951299969965ull,
      1691867131901845518ull,
      13870535350439832211ull,
      5138388373211479720ull,
      7668585079811375877ull,
      13637632864748364768ull,
      16690144812871942181ull,
      8409003089490132965ull,
      11600806245788871007ull,
      14874071552746585776ull,
      2097484195393416291ull,
      5160466423543309177ull,
      6773148991148909019ull,
      11083315904728771041ull,
      16211570068310486776ull,
      6828479126010829318ull
    },
};

std::string generate_license_key(std::string const&base_chain) {

    char control_chain[5]; // la chaine de controle

    control_chain[0] = (((tab[0][base_chain[0] - 'A']) ^ (tab[1][base_chain[1] - 'A']) ^ (tab[2][base_chain[2] - 'A']) ^ (tab[3][base_chain[5] - '0']) ^ (tab[5][base_chain[6] - '0'])) % 26) + 'A';
    control_chain[1] = (((tab[0][base_chain[1] - 'A']) ^ (tab[1][base_chain[2] - 'A']) ^ (tab[2][base_chain[3] - 'A']) ^ (tab[4][base_chain[6] - '0']) ^ (tab[6][base_chain[7] - '0'])) % 26) + 'A';
    control_chain[2] = (((tab[0][base_chain[2] - 'A']) ^ (tab[1][base_chain[3] - 'A']) ^ (tab[2][base_chain[0] - 'A']) ^ (tab[5][base_chain[7] - '0']) ^ (tab[7][base_chain[8] - '0'])) % 26) + 'A';
    control_chain[3] = (((tab[0][base_chain[3] - 'A']) ^ (tab[1][base_chain[0] - 'A']) ^ (tab[2][base_chain[1] - 'A']) ^ (tab[6][base_chain[8] - '0']) ^ (tab[0][base_chain[5] - '0'])) % 26) + 'A';
    control_chain[4] = 0;

    return base_chain + "-" + control_chain;
}